StA_update_cooldown_law_change = {
	if = {
		limit = { has_variable = StA_title_realm_law }
		var:StA_title_realm_law = {
			if = {
				limit = { has_variable = StA_cooldown_law_change }
				change_variable = {
					name = StA_cooldown_law_change
					add = var:StA_title.StA_cooldown_law_change
				}
			}
			else = {
				set_variable = {
					name = StA_cooldown_law_change
					value = var:StA_title.StA_cooldown_law_change
				}
			}
		}
	}
}

StA_reset_cooldown_title_holder_change = {
	if = {
		limit = { has_variable = StA_title_realm_law }
		var:StA_title_realm_law = {
			set_variable = {
				name = StA_cooldown_title_holder_change
				value = PREV.StA_cooldown_title_holder_change
			}
		}
	}
}

StA_inherit_title_laws = {
	if = { limit = { has_variable = feudal_government_taxes_ } var:StA_title_realm_law = { set_variable = { name = feudal_government_taxes_ value = PREV.var:feudal_government_taxes_ }} remove_variable = feudal_government_taxes_ }
	if = { limit = { has_variable = feudal_government_levies_ } var:StA_title_realm_law = { set_variable = { name = feudal_government_levies_ value = PREV.var:feudal_government_levies_ }} remove_variable = feudal_government_levies_ }
	if = { limit = { has_variable = succession_rights_ } var:StA_title_realm_law = { set_variable = { name = succession_rights_ value = PREV.var:succession_rights_ }} remove_variable = succession_rights_ }
	if = { limit = { has_variable = war_declaration_rights_ } var:StA_title_realm_law = { set_variable = { name = war_declaration_rights_ value = PREV.var:war_declaration_rights_ }} remove_variable = war_declaration_rights_ }
	if = { limit = { has_variable = title_revocation_rights_ } var:StA_title_realm_law = { set_variable = { name = title_revocation_rights_ value = PREV.var:title_revocation_rights_ }} remove_variable = title_revocation_rights_ }
}

StA_transfer_title_laws = {
	debug_log = "STA TRANSFER TITLE LAWS"
	$TRANSFER_FROM$ = { debug_log_scopes = no }
	$TRANSFER_TO$ = { debug_log_scopes = no }
	# if = { limit = { $TRANSFER_FROM$ = { has_variable = feudal_government_taxes_ }} $TRANSFER_TO$ = { set_variable = { name = feudal_government_taxes_ value = $TRANSFER_FROM$.var:feudal_government_taxes_ }}}
	# if = { limit = { $TRANSFER_FROM$ = { has_variable = feudal_government_levies_ }} $TRANSFER_TO$ = { set_variable = { name = feudal_government_levies_ value = $TRANSFER_FROM$.var:feudal_government_levies_ }}}
	# if = { limit = { $TRANSFER_FROM$ = { has_variable = succession_rights_ }} $TRANSFER_TO$ = { set_variable = { name = succession_rights_ value = $TRANSFER_FROM$.var:succession_rights_ }}}
	# if = { limit = { $TRANSFER_FROM$ = { has_variable = war_declaration_rights_ }} $TRANSFER_TO$ = { set_variable = { name = war_declaration_rights_ value = $TRANSFER_FROM$.var:war_declaration_rights_ }}}
	# if = { limit = { $TRANSFER_FROM$ = { has_variable = title_revocation_rights_ }} $TRANSFER_TO$ = { set_variable = { name = title_revocation_rights_ value = $TRANSFER_FROM$.var:title_revocation_rights_ }}}
	$TRANSFER_FROM$.var:feudal_government_taxes_ = { debug_log = "TRANSFER_FROM tax" debug_log_scopes = no }
	$TRANSFER_TO$ = { set_variable = { name = feudal_government_taxes_ value = $TRANSFER_FROM$.var:feudal_government_taxes_ }}
	$TRANSFER_TO$ = { set_variable = { name = feudal_government_levies_ value = $TRANSFER_FROM$.var:feudal_government_levies_ }}
	$TRANSFER_TO$ = { set_variable = { name = succession_rights_ value = $TRANSFER_FROM$.var:succession_rights_ }}
	$TRANSFER_TO$ = { set_variable = { name = war_declaration_rights_ value = $TRANSFER_FROM$.var:war_declaration_rights_ }}
	$TRANSFER_TO$ = { set_variable = { name = title_revocation_rights_ value = $TRANSFER_FROM$.var:title_revocation_rights_ }}
	$TRANSFER_TO$.var:feudal_government_taxes_ = { debug_log = "TRANSFER_TO tax" debug_log_scopes = no }
	$TRANSFER_FROM$ = {
		every_in_list = {
			variable = StA_pledge_allegiance
			$TRANSFER_TO$ = {
				add_to_variable_list = {
					name = StA_pledge_allegiance
					target = PREV
				}
			}
			set_variable = {
				name = StA_title_allegiance
				value = $TRANSFER_TO$.var:StA_title
			}
		}
	}
}

StA_set_default_realm_laws = {
	if = { limit = { NOT = { has_variable = feudal_government_taxes_ }} debug_log = "DEFAULT TAX LAW" var:StA_title = { debug_log_scopes = no } set_variable = { name = feudal_government_taxes_ value = 2 }}
	if = { limit = { NOT = { has_variable = feudal_government_levies_ }} set_variable = { name = feudal_government_levies_ value = 2 }}
	if = { limit = { NOT = { has_variable = succession_rights_ }} set_variable = { name = succession_rights_ value = 0 }}
	if = { limit = { NOT = { has_variable = war_declaration_rights_ }} set_variable = { name = war_declaration_rights_ value = 1 }}
	if = { limit = { NOT = { has_variable = title_revocation_rights_ }} set_variable = { name = title_revocation_rights_ value = 1 }}
}

StA_set_laws_to_inherit = {
	set_variable = inherited_title
	if = { limit = { $TRANSFER_FROM$ = { has_variable = feudal_government_taxes_ }} set_variable = { name = feudal_government_taxes_ value = $TRANSFER_FROM$.var:feudal_government_taxes_ days = 1 }}
	if = { limit = { $TRANSFER_FROM$ = { has_variable = feudal_government_levies_ }} set_variable = { name = feudal_government_levies_ value = $TRANSFER_FROM$.var:feudal_government_levies_ days = 1 }}
	if = { limit = { $TRANSFER_FROM$ = { has_variable = succession_rights_ }} set_variable = { name = succession_rights_ value = $TRANSFER_FROM$.var:succession_rights_ days = 1 }}
	if = { limit = { $TRANSFER_FROM$ = { has_variable = war_declaration_rights_ }} set_variable = { name = war_declaration_rights_ value = $TRANSFER_FROM$.var:war_declaration_rights_ days = 1 }}
	if = { limit = { $TRANSFER_FROM$ = { has_variable = title_revocation_rights_ }} set_variable = { name = title_revocation_rights_ value = $TRANSFER_FROM$.var:title_revocation_rights_ days = 1 }}
}