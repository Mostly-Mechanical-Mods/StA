# OBLIGATION_TYPE - The type of the obligation in a vassal contract to set
# this - The person who's obligation will be changed
# Requires a local variable of the same name as OBLIGATION_TYPE
set_obligation_if_changed_effect = {
	if = {
		limit = {
			local_var:$OBLIGATION_TYPE$ != vassal_contract_obligation_level:$OBLIGATION_TYPE$
		}
		vassal_contract_set_obligation_level = {
			type = $OBLIGATION_TYPE$
			level = local_var:$OBLIGATION_TYPE$
		}
	}
	if = {
		limit = { has_title_realm_contract = no }
		set_variable = StA_custom_contract
	}
	else = {
		remove_variable = StA_custom_contract
	}
	set_variable = {
		name = StA_contract_score
		value = StA_contract_score
	}
}